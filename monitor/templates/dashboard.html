{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Monitor de CPU e Mem贸ria RAM</title>
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@1.3.0/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.30.0/dist/date-fns.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body>

<div class="container">
    <h1> Monitor de CPU e Mem贸ria RAM</h1>

    <div class="filters">
        <label>Host:</label>
        <select id="hostSelect"></select>

        <label>Intervalo:</label>
        <select id="rangeSelect">
            <option value="1h">ltima 1 hora</option>
            <option value="6h">ltimas 6 horas</option>
            <option value="24h" selected>ltimas 24 horas</option>
            <option value="7d">ltimos 7 dias</option>
        </select>

        <label>Formato:</label>
        <select id="formatSelect">
            <option value="json">JSON</option>
            <option value="csv">CSV</option>
        </select>

        <button onclick="loadDashboard()"> Atualizar</button>
        <button class="secondary" onclick="generateReport()"> Gerar Relat贸rio</button>
    </div>

    <!-- CPU -->
    <div class="chart-container">
        <div class="chart-header">
            <h2> CPU - Uso do Processador</h2>
            <div class="chart-stats">
                <div id="cpuStats">Carregando...</div>
            </div>
        </div>

        <canvas id="cpuChart"></canvas>

        <div class="zoom-controls">
            <button class="zoom-btn" onclick="resetZoom('cpuChart')">Resetar zoom</button>
        </div>
        <div class="zoom-hint">
            Use <strong>Ctrl + scroll</strong> para zoom horizontal, arraste para navegar.
        </div>

        <div class="ema-info">
            <strong>Linha laranja:</strong> M茅dia M贸vel Exponencial (EMA) - suaviza varia莽玫es para mostrar tend锚ncia real
        </div>
    </div>

    <!-- MEMRIA -->
    <div class="chart-container">
        <div class="chart-header">
            <h2> Mem贸ria RAM - Uso da Mem贸ria</h2>
            <div class="chart-stats">
                <div id="memoryStats">Carregando...</div>
            </div>
        </div>

        <canvas id="memoryChart"></canvas>

        <div class="zoom-controls">
            <button class="zoom-btn" onclick="resetZoom('memoryChart')">Resetar zoom</button>
        </div>
        <div class="zoom-hint">
            Use <strong>Ctrl + scroll</strong> para zoom horizontal, arraste para navegar.
        </div>

        <div class="ema-info">
            <strong>Linha ciano:</strong> M茅dia M贸vel Exponencial (EMA) - suaviza varia莽玫es para mostrar tend锚ncia real
        </div>
    </div>
</div>

<script src="{% static 'js/dashboard.js' %}"></script>

</body>
</html>
